using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Security.Cryptography;
using System.Security.Cryptography.X509Certificates;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace cours23
{
    internal class Program
    {


        static string RemoveInvalidParentheses(string expression)
        {
            Stack<char> stack = new Stack<char>();
            string exp = expression;

            for (int i = 0; i < expression.Length;i++)
            {
                if (expression[i] == '(')
                    stack.Push(expression[i]);

                else if (expression[i] == ')') 
                {
                    if (stack.Count > 0)
                    {
                        if (stack.Peek() == '(')
                            stack.Pop();
                        else
                            exp = exp.Remove(i);
                    }
                    else
                        exp = exp.Remove(i);
                }
               
            }

            while (stack.Count > 0) 
            {
                exp = exp.Remove(0,1);
                stack.Pop();
            }
            

            return exp;
        }


        static void Main()
        {
            Console.WriteLine(RemoveInvalidParentheses("((((())"));
           


            Console.ReadKey();

        }
    }
}